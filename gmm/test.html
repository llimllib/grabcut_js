<html><head><title>gmm test</title>
<script type="text/javascript" src="gmm.js"></script>
<script type="text/javascript" src="jquery-1.3.2.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
    function bucketize(a) {
        var buckets = [];
        for (var i=0; i < 100; i++) {
            buckets[i] = 0;
        }
        zero = 49;
        $.each(a, function() {
            //how many tenths are in the number
            var round = Math.round(this*10);
            //now recenter it
            round += 50;
            if (round >= 0 && round < 100)
                buckets[round] += 1;
        });
        return buckets;
    }

    function plot_arr(a) {
        var idxs = []
        for (var i=0; i < a.length; i++) {
            idxs.push(i);
        }
        idxs = idxs.join(",");
        a = idxs + "|" + a.join(",");
        deleteme = a;

        var img = document.createElement("IMG");
        var src = "http://chart.apis.google.com/chart?cht=s&chs=500x200&chm=o,3399cc,0,1,3&chds=0,100,0,600&chd=t:" 
        img.src = src + a;
        document.getElementById('chart').appendChild(img);
    }

    randn = NormalDistribution(1,0);
    //var x = [];
    //GLOBAL DEBUG DEELETEME
    x = []
    for (var i=0; i < 10000; i++) {
        x.push(randn.sample());
    }
    //var buckets = bucketize(x);
    //GLOBAL DEBUG DEELETEME
    buckets = bucketize(x);

    plot_arr(buckets);
}); 
</script>
</head>
<body>
<div id="chart">
</div>
</body>
</html>
