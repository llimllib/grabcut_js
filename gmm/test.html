<html><head><title>gmm test</title>
<script type="text/javascript" src="../sylvester/lib/sylvester.js"></script>
<script type="text/javascript" src="../linalg/cholesky.js"></script>
<script type="text/javascript" src="gmm.js"></script>
<script type="text/javascript" src="jquery-1.3.2.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
    normal_dist_sanity_check();

}); 

function gaussian_dist_sanity_check() {
    var t = TwoDDistribution(1, [1,1], [1,1]);
}

//TODO: compare to numpy; does it converge on a bell curve at the same n?
function normal_dist_sanity_check() {
    function bucketize(a) {
        var buckets = [];
        for (var i=0; i < 100; i++) {
            buckets[i] = 0;
        }
        zero = 49;
        $.each(a, function() {
            //how many tenths are in the number
            var round = Math.round(this*10);
            //now recenter it
            round += 50;
            if (round >= 0 && round < 100)
                buckets[round] += 1;
        });
        return buckets;
    }

    function plot_arr(a) {
        var idxs = []
        for (var i=0; i < a.length; i++) {
            idxs.push(i-50);
        }
        idxs = idxs.join(",");
        a = idxs + "|" + a.join(",");
        deleteme = a;

        var img = document.createElement("IMG");
        var src = "http://chart.apis.google.com/chart?cht=s&chs=500x200&";
        src += "chm=o,3399cc,0,1,3&";
        //the axes don't line up to actual numbers, you need to take
        //care of that yourself.
        src += "chxt=x,y&chxl=0:|-50|0|50|1:|0|300|600&";
        src += "chds=-50,50,0,600&";
        src += "chd=t:";
        img.src = src + a;
        document.getElementById('chart').appendChild(img);
    }

    randn = NormalDistribution(1,0);
    //var x = [];
    //GLOBAL DEBUG DEELETEME
    x = []
    for (var i=0; i < 10000; i++) {
        x.push(randn.sample());
    }
    //var buckets = bucketize(x);
    //GLOBAL DEBUG DEELETEME
    buckets = bucketize(x);

    plot_arr(buckets);
}
</script>
</head>
<body>
<div id="chart">
</div>
</body>
</html>
